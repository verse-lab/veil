window;import{jsxs as n,Fragment as r,jsx as e}from"react/jsx-runtime";import*as o from"react";function t(n){switch(n){case"proven":return"âœ…";case"disproven":return"âŒ";case"unknown":return"â“";case"error":return"ðŸ’¥";case null:return e("span",{className:"spinner",children:"â³"});default:return"â­•"}}function a(o){const t="all"===o?"All":o.charAt(0).toUpperCase()+o.slice(1);switch(o){case"all":default:return t;case"pending":return n(r,{children:[e("span",{className:"spinner-small",children:"â³"})," ",t]});case"proven":return n(r,{children:["âœ… ",t]});case"disproven":return n(r,{children:["âŒ ",t]});case"unknown":return n(r,{children:["â“ ",t]});case"error":return n(r,{children:["ðŸ’¥ ",t]})}}const s=({vc:r})=>{return n("div",{className:`property-row status-${a=r.status,a||"pending"}`,children:[e("span",{className:"property-icon",children:t(r.status)}),e("span",{className:"property-name",children:r.metadata.property}),null!==r.timing.totalTime&&e("span",{className:"property-time",children:(o=r.timing.totalTime,null===o?null:o<1e3?`${o}ms`:`${(o/1e3).toFixed(2)}s`)})]});var o,a},i=({action:r,vcs:t})=>{const[a,i]=o.useState(!0);return n("div",{className:"action-section",children:[n("div",{className:"action-header",onClick:()=>i(!a),children:[e("span",{className:"action-toggle",children:a?"â–¼":"â–¶"}),e("span",{className:"action-name",children:r})]}),a&&e("div",{className:"action-properties",children:t.map((n=>e(s,{vc:n},n.id)))})]})},d=({results:t})=>{const[d,c]=o.useState("all"),l=o.useMemo((()=>{const n=(n,r)=>{const e=n.replace("#","");return`rgba(${parseInt(e.substring(0,2),16)}, ${parseInt(e.substring(2,4),16)}, ${parseInt(e.substring(4,6),16)}, ${r})`};return{proven:{border:"#52c41a",bg:n("#52c41a",.1)},disproven:{border:"#ff4d4f",bg:n("#ff4d4f",.1)},error:{border:"#fa8c16",bg:n("#fa8c16",.1)},unknown:{border:"#1890ff",bg:n("#1890ff",.1)},pending:{border:"#d9d9d9",bg:n("#d9d9d9",.05)}}}),[]),p=o.useMemo((()=>{const n={all:t.vcs.length,pending:0,proven:0,disproven:0,unknown:0,error:0};return t.vcs.forEach((r=>{null===r.status?n.pending++:"proven"===r.status?n.proven++:"disproven"===r.status?n.disproven++:"unknown"===r.status?n.unknown++:"error"===r.status&&n.error++})),n}),[t.vcs]),v=o.useMemo((()=>"all"===d?t.vcs:"pending"===d?t.vcs.filter((n=>null===n.status)):t.vcs.filter((n=>n.status===d))),[t.vcs,d]),u=o.useMemo((()=>function(n){const r=new Map;for(const e of n){const n=e.metadata.action;r.has(n)||r.set(n,[]),r.get(n).push(e)}return r}(v)),[v]),g=u.get("initializer")||[],b=Array.from(u.entries()).filter((([n])=>"initializer"!==n)),m=o.useMemo((()=>`\n    .vr-root {\n      font-family: system-ui, -apple-system, sans-serif;\n      max-width: 100%;\n      padding: 16px;\n      background: var(--vscode-editor-background);\n      border-radius: 8px;\n    }\n\n    .vr-filters {\n      display: flex;\n      gap: 8px;\n      margin-bottom: 16px;\n      padding: 12px;\n      background: var(--vscode-editorWidget-background);\n      border: 1px solid var(--vscode-panel-border);\n      border-radius: 6px;\n      flex-wrap: wrap;\n      align-items: center;\n    }\n\n    .vr-filter-label {\n      font-weight: 600;\n      font-size: 14px;\n      color: var(--vscode-foreground);\n    }\n\n    .vr-filter-button {\n      padding: 6px 12px;\n      border: 1px solid var(--vscode-panel-border);\n      background: var(--vscode-editorWidget-background);\n      color: var(--vscode-foreground);\n      border-radius: 4px;\n      cursor: pointer;\n      font-size: 13px;\n      transition: all 0.2s;\n    }\n\n    .vr-filter-button:hover {\n      background: var(--vscode-list-hoverBackground);\n      border-color: var(--vscode-panel-border);\n    }\n\n    .vr-filter-button.active {\n      background: var(--vscode-button-background);\n      color: var(--vscode-button-foreground);\n      border-color: var(--vscode-button-background);\n    }\n\n    .vr-section {\n      margin-bottom: 24px;\n      background: var(--vscode-editorWidget-background);\n      border: 1px solid var(--vscode-panel-border);\n      border-radius: 6px;\n      overflow: hidden;\n    }\n\n    .vr-section-title {\n      font-weight: 600;\n      font-size: 16px;\n      padding: 12px 16px;\n      background: var(--vscode-editorGroupHeader-tabsBackground);\n      border-bottom: 1px solid var(--vscode-panel-border);\n      color: var(--vscode-foreground);\n    }\n\n    .vr-section-content {\n      padding: 12px;\n    }\n\n    .action-section {\n      margin-bottom: 12px;\n      border: 1px solid var(--vscode-panel-border);\n      border-radius: 4px;\n      overflow: hidden;\n    }\n\n    .action-header {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      padding: 10px 12px;\n      background: var(--vscode-editorWidget-background);\n      cursor: pointer;\n      user-select: none;\n      transition: background 0.2s;\n    }\n\n    .action-header:hover {\n      background: var(--vscode-list-hoverBackground);\n    }\n\n    .action-toggle {\n      font-size: 12px;\n      color: var(--vscode-descriptionForeground);\n    }\n\n    .action-name {\n      font-weight: 600;\n      font-size: 14px;\n      color: var(--vscode-foreground);\n    }\n\n    .action-properties {\n      padding: 8px 12px 8px 32px;\n      background: var(--vscode-editorWidget-background);\n    }\n\n    .property-row {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      padding: 6px 8px;\n      margin: 2px 0;\n      border-radius: 4px;\n      transition: background 0.15s;\n    }\n\n    .property-row:hover {\n      background: var(--vscode-list-hoverBackground);\n    }\n\n    .property-icon {\n      font-size: 16px;\n      flex-shrink: 0;\n    }\n\n    .property-name {\n      font-family: ui-monospace, SFMono-Regular, Menlo, monospace;\n      font-size: 13px;\n      color: var(--vscode-editor-foreground);\n      flex-grow: 1;\n    }\n\n    .property-time {\n      font-family: ui-monospace, SFMono-Regular, Menlo, monospace;\n      font-size: 12px;\n      margin-left: auto;\n      padding: 2px 6px;\n      background: var(--vscode-editorWidget-background);\n      color: var(--vscode-descriptionForeground);\n      border: 1px solid var(--vscode-panel-border);\n      border-radius: 6px;\n      white-space: nowrap;\n    }\n\n    .property-row.status-proven {\n      background: ${l.proven.bg};\n      border-left: 3px solid ${l.proven.border};\n    }\n\n    .property-row.status-disproven {\n      background: ${l.disproven.bg};\n      border-left: 3px solid ${l.disproven.border};\n    }\n\n    .property-row.status-error {\n      background: ${l.error.bg};\n      border-left: 3px solid ${l.error.border};\n    }\n\n    .property-row.status-unknown {\n      background: ${l.unknown.bg};\n      border-left: 3px solid ${l.unknown.border};\n    }\n\n    .property-row.status-pending {\n      background: ${l.pending.bg};\n      border-left: 3px solid ${l.pending.border};\n    }\n\n    .spinner {\n      display: inline-block;\n      animation: spin 2s linear infinite;\n    }\n\n    .spinner-small {\n      display: inline-block;\n      font-size: 14px;\n    }\n\n    @keyframes spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n\n    .vr-empty {\n      padding: 24px;\n      text-align: center;\n      color: var(--vscode-disabledForeground);\n      font-style: italic;\n    }\n  `),[l]);return n(r,{children:[e("style",{children:m}),n("div",{className:"vr-root",children:[n("div",{className:"vr-filters",children:[n("span",{className:"vr-filter-label",children:["Filter by status (",t.totalVCs," VCs):"]}),["all","pending","proven","disproven","unknown","error"].map((r=>0===p[r]?null:n("button",{className:"vr-filter-button "+(d===r?"active":""),onClick:()=>c(r),children:[a(r)," (",p[r],")"]},r)))]}),0===v.length?e("div",{className:"vr-empty",children:"No verification conditions match the selected filter."}):n(r,{children:[g.length>0&&n("div",{className:"vr-section",children:[e("div",{className:"vr-section-title",children:"Initialization must establish the invariant:"}),e("div",{className:"vr-section-content",children:e("div",{className:"action-properties",children:g.map((n=>e(s,{vc:n},n.id)))})})]}),b.length>0&&n("div",{className:"vr-section",children:[e("div",{className:"vr-section-title",children:"The following set of actions must preserve the invariant:"}),e("div",{className:"vr-section-content",children:b.map((([n,r])=>e(i,{action:n,vcs:r},n)))})]})]})]})]})};export{d as default};